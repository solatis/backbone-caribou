define("caribou/collection_view",["underscore","backbone","layoutmanager"],function(a,b,c){return c.extend({constructor:function(){c.apply(this,arguments),this._bindEvents()},_bindEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._addAndRenderItem,this),this.listenTo(this.collection,"remove",this._removeItem,this),this.listenTo(this.collection,"reset",this.render,this))},beforeRender:function(){this.collection.each(this._addItem,this),0===a.size(this.collection)&&this.EmptyViewType&&(this._emptyView=this._emptyViewFactory(),this._addView(this._emptyView))},_addAndRenderItem:function(a){this._emptyView&&(this.removeView(this._emptyView),this._emptyView=null);var b=this._addItem(a);return this.hasRendered&&b.render(),b},_addItem:function(a){return this._addView(this._itemViewFactory(a))},_addView:function(a){return this.trigger("item:add:before",a),a=this.insertView(a),this.trigger("item:add",a),this.trigger("item:add:after",a),a},_removeItem:function(a){var b=this.getView({model:a});this.trigger("item:remove:before",b),b.remove(),this.trigger("item:remove",b),this.trigger("item:remove:after",b)},_itemViewFactory:function(a){if(!this.ItemViewType)throw"An ItemViewType must be specified";return new this.ItemViewType({model:a})},_emptyViewFactory:function(){return new this.EmptyViewType}})}),define("caribou",["caribou/collection_view"],function(){var a={CollectionView:require("caribou/collection_view")};return a});
//# sourceMappingURL=backbone-caribou.min.map